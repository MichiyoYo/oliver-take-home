(this["webpackJsonpoliver-take-home"]=this["webpackJsonpoliver-take-home"]||[]).push([[0],{125:function(e,t,c){},126:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),s=c(31),i=c.n(s),n=(c(96),c(8)),o=c(35),l=c.n(o),j=c(34),d=c(16),h=c(44),u=c(45),m=c(81),b=c(80),O=c(1),p=function(e){Object(m.a)(c,e);var t=Object(b.a)(c);function c(){return Object(h.a)(this,c),t.apply(this,arguments)}return Object(u.a)(c,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"Home",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/hwery4evq/image/upload/c_scale,w_400/v1/assets/toast",alt:"welcome"}),Object(O.jsx)("h1",{children:"Welcome!"}),Object(O.jsx)("h2",{children:"Oliver Space Take-Home Instructions"}),Object(O.jsx)("p",{children:"Your mission, if you choose to accept it, is to build out a mock of a product reviews flow. This includes a page for users to submit their reviews as well as a page to read reviews."}),Object(O.jsx)("h3",{children:"Requirements"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Create a page where a user can review a given product with the following information:"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Their name (the author)"}),Object(O.jsx)("li",{children:"A star rating"}),Object(O.jsx)("li",{children:"Headline text (a title for their review)"}),Object(O.jsx)("li",{children:"The body of the review (a longer paragraph)"})]}),Object(O.jsx)("li",{children:"Create a page where a user can view all of the reviews for a given product"})]}),Object(O.jsx)("p",{children:"Please spend 2 hours completing this task to whatever extent you can finish, but don't go over time. The expectation is not that you will get through all of the requirements, so please add notes on anything else you would have done with more time. Feel free to use any third-party libraries that you find helpful."}),Object(O.jsx)("h3",{children:"Running the App"}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Run ",Object(O.jsx)("code",{children:"npm install"})," first"]}),Object(O.jsxs)("li",{children:["Start the mock JSON server on port 3004 using"," ",Object(O.jsx)("code",{children:"json-server --watch db.json"})]}),Object(O.jsxs)("li",{children:["Start the React app on port 3000 using ",Object(O.jsx)("code",{children:"npm start"})]}),Object(O.jsxs)("li",{children:["You can then make requests to"," ",Object(O.jsx)("code",{children:"http://localhost:3004/products"}),","," ",Object(O.jsx)("code",{children:"http://localhost:3004/reviews"})," or"," ",Object(O.jsx)("code",{children:"http://localhost:3004/products/:id/reviews"})," using axios, or any of your preferred methods"]})]}),Object(O.jsxs)("p",{children:["More info on json-server"," ",Object(O.jsx)("a",{href:"https://www.npmjs.com/package/json-server",children:"here"})]}),Object(O.jsxs)("p",{children:["This project was bootstrapped with"," ",Object(O.jsx)("a",{href:"https://github.com/facebook/create-react-app",children:"Create React App"})]}),Object(O.jsxs)("h4",{children:["Best of luck! Feel free to email"," ",Object(O.jsx)("a",{href:"mailto:frontend-eng@oliver.space",children:"frontend-eng@oliver.space"}),"if you have any questions while you're completing the exercise. We're happy to help :)"]})]})}}]),c}(r.a.Component),x=c(169),v=c(168),f=c(165),g=c(32),w=c(4);var N=function(e){var t=e.items,c=e.resourceName,a=e.itemComponent;return Object(O.jsx)(O.Fragment,{children:t.map((function(e,t){return Object(O.jsx)(a,Object(g.a)({},Object(w.a)({},c,e)),t)}))})},y=c(167);var _=function(e){var t=e.review,c=t.author,a=t.star_rating,r=t.headline,s=t.body;return Object(O.jsxs)("li",{className:"ReviewListItem",children:[Object(O.jsxs)("div",{className:"review_author",children:[Object(O.jsx)(y.a,{className:"author_avatar",alt:c,src:"https://avatars.dicebear.com/api/human/".concat(c,".svg")}),Object(O.jsxs)("div",{className:"right-wrapper",children:[Object(O.jsx)("h3",{className:"author_name",children:c}),Object(O.jsx)(f.a,{className:"review_rating",name:"read-only",value:a,readOnly:!0})]})]}),Object(O.jsx)("h4",{className:"review_headline",children:r}),Object(O.jsx)("p",{className:"review_body",children:s})]})};var C=function(e){var t=e.reviews;return Object(O.jsx)("ul",{className:"ReviewList",children:Object(O.jsx)(N,{items:t,resourceName:"review",itemComponent:_})})};var k=function(e){var t=Object(d.g)().id,c=Object(d.f)().state,a=c.name,r=c.imgUrl,s=c.avgRating,i=c.reviews;return Object(O.jsx)("div",{className:"Product",children:Object(O.jsxs)(x.a,{sx:{flexGrow:1},children:[Object(O.jsxs)(v.a,{className:"product_header",container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:{xs:2,md:3},children:[Object(O.jsx)(v.a,{item:!0,sm:12,md:6,className:"grid-item",children:Object(O.jsx)("img",{className:"product_img",src:r,alt:a})}),Object(O.jsxs)(v.a,{item:!0,sm:12,md:6,className:"grid-item",children:[Object(O.jsx)("h2",{children:a}),Object(O.jsxs)("div",{className:"product_reviews",children:[Object(O.jsx)(f.a,{className:"reviews_stars",name:"read-only",value:s,readOnly:!0}),Object(O.jsxs)("p",{className:"product_avg",children:["From ",Object(O.jsx)("span",{className:"reviews_number",children:i.length})," ","review",1===i.length?"":"s"]})]}),Object(O.jsx)(j.b,{className:"btn",to:{pathname:"/product/".concat(t,"/add-review"),state:{imgUrl:r,name:a}},children:"Review it"})]})]}),i.length>0&&Object(O.jsx)(v.a,{className:"product_reviews",container:!0,spacing:2,children:Object(O.jsxs)(v.a,{item:!0,xs:12,children:[Object(O.jsx)("h2",{children:"Reviews"}),Object(O.jsx)(C,{reviews:i})]})})]})})},R=c(13),S=c.p+"static/media/loading.43b49ff9.gif";var q=function(e){var t=e.product,c=Object(a.useContext)(U),r=c.products,s=c.setProducts,i=t.name,o=t.id,d=Object(a.useState)([]),h=Object(n.a)(d,2),u=h[0],m=h[1],b=Object(a.useState)(0),p=Object(n.a)(b,2),x=p[0],v=p[1],w=Object(a.useState)(S),N=Object(n.a)(w,2),y=N[0],_=N[1];return Object(a.useEffect)((function(){l.a.get("http://localhost:3004/products/".concat(o,"/reviews")).then((function(e){m(e.data),_("https://via.assets.so/furniture.png?id=".concat(o,"&q=95&w=200&h=200&fit=fill"))})).catch((function(e){console.error(e)}))}),[o]),Object(a.useEffect)((function(){var e=0;u.length&&(u.forEach((function(t){e+=Number(t.star_rating)})),v(Math.floor(e/u.length)||0))}),[u]),Object(a.useEffect)((function(){var e=Object(g.a)(Object(g.a)({},t),{},{imgUrl:y,avgRating:x,reviews:u}),c=r.findIndex((function(e){return e.id===o}));s([].concat(Object(R.a)(r.slice(0,c)),[e],Object(R.a)(r.slice(c+1))))}),[u,y,x,o]),Object(O.jsx)("li",{className:"ProductListItem",children:Object(O.jsxs)("div",{className:"product_box",children:[Object(O.jsx)("img",{src:y,alt:i,height:"200",width:"200"}),Object(O.jsx)("h2",{children:i}),Object(O.jsx)(f.a,{className:"star-rating",name:"read-only",value:x,readOnly:!0}),Object(O.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),Object(O.jsx)(j.b,{className:"btn",to:{pathname:"/products/".concat(o),state:{name:i,imgUrl:y,avgRating:x,reviews:u}},children:"Reviews"})]})})};var I=function(e){var t=Object(a.useContext)(U).products;return Object(O.jsx)("ul",{className:"ProductList",children:Object(O.jsx)(N,{items:t,resourceName:"product",itemComponent:q})})},P=c(163),T=c(164),W={author:"",headline:"",body:"",star_rating:0};var E=function(e){var t=Object(d.g)().id,c=Object(d.f)().state,r=c.name,s=c.imgUrl,i=Object(a.useState)(W),o=Object(n.a)(i,2),j=o[0],h=o[1],u=function(e){var t=e.target,c=t.name,a=t.value;h(Object(g.a)(Object(g.a)({},j),{},Object(w.a)({},c,a))),console.log("input changed")};return Object(O.jsx)("div",{className:"ReviewForm",children:Object(O.jsxs)(x.a,{sx:{flexGrow:1},children:[Object(O.jsx)(v.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(O.jsxs)(v.a,{item:!0,sm:12,className:"grid-item",children:[Object(O.jsx)("h2",{children:r}),Object(O.jsx)("img",{src:s,alt:r})]})}),Object(O.jsx)(v.a,{className:"form-container",container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(O.jsx)(v.a,{item:!0,sm:12,className:"grid-item",children:Object(O.jsx)("form",{className:"form",onSubmit:function(e){e.preventDefault(),l.a.post("http://localhost:3004/products/".concat(t,"/reviews"),j).then((function(e){h(W),setTimeout((function(){window.open("/products/","_self")}),500)})).catch((function(e){console.error("Something went wrong \ud83d\ude3f: "+e)}))},children:Object(O.jsxs)(v.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(O.jsx)(v.a,{className:"form_grid-item",item:!0,children:Object(O.jsx)(f.a,{name:"star_rating",value:Number(j.star_rating),onChange:u})}),Object(O.jsx)(v.a,{className:"form_grid-item",item:!0,children:Object(O.jsx)(P.a,{id:"author-input",name:"author",label:"Author",type:"text",value:j.author,onChange:u,fullWidth:!0})}),Object(O.jsx)(v.a,{className:"form_grid-item",item:!0,children:Object(O.jsx)(P.a,{id:"headline-input",name:"headline",label:"Headline",type:"text",value:j.headline,onChange:u,fullWidth:!0})}),Object(O.jsx)(v.a,{className:"form_grid-item",item:!0,children:Object(O.jsx)(P.a,{id:"body-input",name:"body",label:"Your Review",multiline:!0,type:"text",value:j.body,onChange:u,fullWidth:!0})}),Object(O.jsx)(T.a,{className:"btn button-btn",variant:"contained",color:"primary",type:"submit",children:"Submit"})]})})})})]})})},U=Object(a.createContext)();function A(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),c=t[0],r=t[1];return Object(a.useEffect)((function(){l.a.get("http://localhost:3004/products").then((function(e){r(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(O.jsx)(U.Provider,{value:{products:c,setProducts:r},children:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(j.a,{children:Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:"/",children:Object(O.jsx)(p,{})}),Object(O.jsx)(d.a,{exact:!0,path:"/products",children:Object(O.jsx)(I,{})}),Object(O.jsx)(d.a,{path:"/products/:id",children:Object(O.jsx)(k,{})}),Object(O.jsx)(d.a,{path:"/product/:id/add-review",children:Object(O.jsx)(E,{})})]})})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c(125);i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,c){}},[[126,1,2]]]);
//# sourceMappingURL=main.6837af37.chunk.js.map